# Claude 工程提示詞遵循技術完整核心要點列表

## 📋 官方技術排序（按效果廣泛性排列）

### 1. 系統提示詞與角色提示 (System Prompts & Role Prompting)
**🏆 最強大的技術**
- 使用 `system` 參數設定 Claude 的角色
- 將 Claude 從一般助手轉變為虛擬領域專家
- 提高準確性、客製化語氣、提升專注度
- 任務特定指示放在 `user` 回合中

### 2. 清晰直接的指示 (Be Clear and Direct)
**🎯 基礎核心原則**
- 提供具體明確的指示
- 使用編號列表或項目符號
- 避免模糊性和歧義
- 指定具體的成功標準

### 3. 多樣本提示 (Multishot Prompting)
**💎 範例的力量**
- 包含 3-5 個多樣化、相關的範例
- 更多範例 = 更好的表現
- 提高準確性、一致性和效能
- 範例勝過長篇說明

### 4. 讓 Claude 思考 (Chain of Thought)
**🧠 思考時間技術**
- 使用 "Think step by step" 指示
- 引導延伸思考過程
- 使用 `<thinking>` 標籤
- "think" < "think hard" < "think harder" < "ultrathink"

### 5. XML 標籤結構化 (Use XML Tags)
**🏗️ 結構化組織**
- 使用 `<instructions>`, `<example>`, `<formatting>` 等標籤
- 清楚分離提示的不同部分
- 提高解析準確性
- 便於後處理

## 📊 Claude 4 特定技術

### 6. 精確指令遵循 (Claude 4 Instruction Following)
**⚡ Claude 4 專屬**
- 經過訓練具有更精確的指令遵循能力
- 對清晰、明確指示反應良好
- 需要更明確請求「超越基本」行為
- 高度關注細節和範例

### 7. 提供動機和背景 (Context & Motivation)
**📖 增強理解**
- 解釋為什麼某種行為很重要
- 提供背景脈絡
- 幫助 Claude 理解目標
- 產生更有針對性的回應

### 8. 使用修飾詞增強 (Modifiers)
**🔧 行為指導**
- "詳細分析"、"提供完整實作"
- "超越基本功能"
- "包含所有相關功能和互動"
- "Go beyond the basics"

## 🔨 輸出控制技術

### 9. 輸出格式控制 (Output Formatting)
**📝 格式對齊**
- 提示風格影響回應風格
- 匹配提示風格與期望輸出風格
- 移除不需要的格式元素
- 使用一致的格式標準

### 10. 預填回應技術 (Prefilling)
**🎬 控制開頭**
- 使用 `assistant` 訊息提供輸出開始
- 控制 Claude 的回應格式
- 強制特定格式（如 JSON）
- 減少不必要的前言

### 11. 具體性勝過模糊性 (Specificity)
**🎯 精確指定**
- ❌ "簡潔回應" → ✅ "限制在 2-3 句話內"
- ❌ "好的格式" → ✅ "使用 JSON 格式"
- ❌ "詳細說明" → ✅ "包含 5 個具體步驟"

## 🛠️ 工具與技術整合

### 12. 平行工具執行 (Parallel Tool Use)
**⚡ Claude 4 專長**
- 同時調用多個獨立工具
- 避免依序執行
- 最大化效率
- 接近 100% 成功率

### 13. 工具反思技術 (Tool Reflection)
**🤔 反思與規劃**
- 接收工具結果後仔細反思
- 確定最佳下一步
- 基於新資訊規劃和迭代
- 採取最佳行動

### 14. 延伸思考提示 (Extended Thinking)
**🧩 複雜推理**
- 適用於反思和複雜多步驟推理
- 引導初始或交錯思考
- 明確要求深入思考
- 顯示思考過程

## 📚 內容組織技術

### 15. 提示範本與變數 (Prompt Templates)
**🔄 可重用性**
- 固定內容與變數內容分離
- 使用 `{{double brackets}}` 標記變數
- 版本控制和維護
- 提高一致性

### 16. 長上下文技巧 (Long Context Tips)
**📄 大量內容處理**
- XML 標籤幫助組織長內容
- 結構化大型文檔
- 有效利用擴展上下文能力
- 優化 token 使用

### 17. 鏈式複雜提示 (Chain Complex Prompts)
**🔗 任務分解**
- 將複雜任務分解為子任務
- 使用提示鏈接
- 前一個輸出作為下一個輸入
- 提高準確性和一致性

## 🎨 內容創建技術

### 18. 範例對齊原則 (Example Alignment)
**✅ 行為引導**
- 確保範例與期望行為一致
- 最小化不想要的行為
- 涵蓋各種情境和邊緣案例
- 品質勝過數量

### 19. 負面提示技術 (Negative Prompting)
**⚠️ 謹慎使用**
- 輕觸使用，避免反效果
- 不要過度強調不要做什麼
- 專注於正面指導
- 平衡約束與創意

## 🔍 評估與改進

### 20. 成功標準定義 (Define Success Criteria)
**📊 明確目標**
- 建立清晰的評估標準
- 考慮準確性、延遲和成本
- 可測量的成功指標
- 客觀評估方法

### 21. 測試案例開發 (Develop Test Cases)
**🧪 驗證效果**
- 創建多樣化的測試案例
- 涵蓋預期使用情境
- 包含邊緣案例
- 系統性驗證

### 22. 迭代改進 (Iterative Improvement)
**🔄 持續優化**
- 基於結果調整提示
- A/B 測試不同方法
- 收集反饋並改進
- 版本追蹤

## 📋 專門應用技術

### 23. 程式碼生成優化 (Code Generation)
**💻 開發專用**
- 指定程式語言和框架
- 包含程式碼風格要求
- 要求測試和文檔
- 考慮維護性

### 24. 視覺內容處理 (Vision Capabilities)
**👁️ 圖像分析**
- 圖像放置在提示開始
- 平衡圖像清晰度與大小
- 應用傳統提示技術
- 具體描述需求

### 25. 安全性考量 (Safety Considerations)
**🛡️ 風險管控**
- 避免提示注入
- 不信任外部內容
- 驗證建議的更改
- 回報可疑行為

## 🎛️ 進階控制技術

### 26. 輸出一致性 (Increase Output Consistency)
**📏 標準化**
- 使用固定的輸出格式
- 提供清晰的範例
- 減少隨機性
- 標準化術語

### 27. 減少幻覺 (Reduce Hallucinations)
**✅ 提高準確性**
- 明確允許 "我不知道" 回應
- 要求引用來源
- 驗證事實聲明
- 使用檢索增強生成 (RAG)

### 28. 保持角色一致 (Keep Claude in Character)
**🎭 角色維持**
- 強化角色定義
- 提供角色範例
- 定期提醒角色要求
- 角色行為約束

## 🚀 效能優化

### 29. 減少延遲 (Reducing Latency)
**⚡ 速度優化**
- 簡化提示結構
- 減少不必要的範例
- 優化輸出長度
- 選擇適當的模型

### 30. 防範越獄 (Mitigate Jailbreaks)
**🔒 安全防護**
- 強化系統指示
- 檢測操作嘗試
- 多層防護機制
- 監控異常行為

## 📝 特殊格式處理

### 31. JSON 輸出控制
**📊 結構化資料**
- 預填 `{` 開始
- 明確 JSON 結構要求
- 使用停止序列 `</json>`
- 驗證 JSON 有效性

### 32. 串流處理 (Streaming)
**🌊 即時回應**
- 適用於長輸出
- 即時用戶反饋
- 處理串流拒絕
- 優化用戶體驗

---

## 📋 技術應用優先級建議

### 🥇 **必須掌握**（適用於所有使用案例）
1. 系統提示詞與角色提示
2. 清晰直接的指示
3. 多樣本提示
4. XML 標籤結構化

### 🥈 **重要技術**（大多數使用案例）
5. 讓 Claude 思考
6. 輸出格式控制
7. 具體性原則
8. 成功標準定義

### 🥉 **進階技術**（特定使用案例）
9. Claude 4 特定技術
10. 工具整合技術
11. 長上下文處理
12. 安全性考量

### 🎯 **專門技術**（領域特定）
13. 程式碼生成優化
14. 視覺內容處理
15. 效能優化技術
16. 特殊格式處理

---

**重要提醒**：這些技術應該按照從最廣泛有效到更專業化的順序嘗試，實際影響取決於具體使用案例。建議先建立清晰的成功標準和評估方法，然後系統性地應用這些技術。